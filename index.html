<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NEURAL_DECAY :: Coding + Medicine + Chaos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    body {
      background: #0a0a0a;
      color: #e0e0e0;
      font-family: 'Inter', sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 0;
    }
    .container { max-width: 1200px; margin: 0 auto; padding: 20px;}
    header {
      background: #1a1a1a;
      border-bottom: 2px solid #00eeff;
      padding: 20px 0;
      margin-bottom: 0;
    }
    .logo {
      font-family: 'Orbitron', monospace;
      font-size: 2rem;
      font-weight: 900;
      color: #00eeff;
      text-shadow: 0 0 10px #00eeff;
      text-decoration: none;
    }
    nav ul {
      list-style: none;
      display: flex;
      gap: 30px;
      margin: 0;
      padding: 0;
    }
    nav a {
      color: #e0e0e0;
      text-decoration: none;
      font-family: 'Share Tech Mono', monospace;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: all 0.3s ease;
      position: relative;
      cursor: pointer;
    }
    nav a:hover {
      color: #18a4f4;
      text-shadow: 0 0 5px #18a4f4;
    }
    main { display: flex; gap: 40px; padding: 40px 0; }
    .content-area { flex: 2; }
    .sidebar { flex: 1; display: flex; flex-direction: column; gap: 30px;}
    .widget { background: #1a1a1a; border: 1px solid #333; border-radius: 5px; margin-bottom: 0; }
    .widget-header { background: #2a2a2a; padding: 15px; border-bottom: 1px solid #333; }
    .widget-title { font-family: 'Orbitron', monospace; color: #00eeff; font-size: 1rem; text-transform: uppercase; letter-spacing: 1px; }
    .widget-content { padding: 20px; }
    .recent-posts a { display: block; color: #b0b0b0; text-decoration: none; padding: 8px 0; border-bottom: 1px solid #333; transition: color 0.3s ease; font-size: 0.9rem; cursor: pointer;}
    .recent-posts a:last-child { border-bottom: none;}
    .recent-posts a:hover { color: #18a4f4;}
    .blog-posts h2 { font-family: 'Orbitron', monospace; color: #19fbec; margin-bottom: 20px; padding: 15px; background: #2a2a2a; border-left: 4px solid #19fbec; text-transform: uppercase; letter-spacing: 2px;}
    .post { border-bottom: 1px solid #333; padding: 25px; transition: background 0.3s ease;}
    .post:hover { background: #2a2a2a;}
    .post:last-child { border-bottom: none;}
    .post-meta { font-family: 'Share Tech Mono', monospace; font-size: 0.8rem; color: #b0b0b0; margin-bottom: 10px;}
    .post-category { background: #00eeff; color: #000; padding: 2px 8px; border-radius: 3px; font-weight: bold; margin-right: 10px;}
    .post-category.coding { background: #00eeff; color: #000; }
    .post h3 { font-family: 'Orbitron', monospace; color: #e0e0e0; margin-bottom: 15px; font-size: 1.3rem;}
    .post h3 a { color: inherit; text-decoration: none; transition: color 0.3s ease;}
    .post h3 a:hover { color: #00eeff;}
    .post-excerpt { color: #b0b0b0; margin-bottom: 15px;}
    .read-more { color: #18a4f4; text-decoration: none; font-family: 'Share Tech Mono', monospace; font-size: 0.9rem; transition: all 0.3s ease;}
    .read-more:hover { color: #00eeff; text-shadow: 0 0 5px #00eeff;}
    .full-post-content { padding: 30px; line-height: 1.7;}
    .full-post-content h1 { font-family: 'Orbitron', monospace; color: #00eeff; margin-bottom: 20px; font-size: 1.8rem;}
    .full-post-content a { color: #18a4f4; text-decoration: none; transition: all 0.3s ease;}
    .full-post-content a:hover { color: #00eeff; text-shadow: 0 0 5px #00eeff;}
    .back-button { background: transparent; border: 1px solid #00eeff; color: #00eeff; font-family: 'Share Tech Mono', monospace; font-size: 0.8rem; padding: 8px 12px; border-radius: 3px; cursor: pointer; margin-bottom: 20px; transition: all 0.3s ease;}
    .back-button:hover { background: #00eeff; color: #000;}
    @media (max-width: 900px) {
      main { flex-direction: column; }
      .sidebar { flex-direction: row; gap: 15px; }
      .content-area, .sidebar { width: 100%; flex: none; }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <a href="#" class="logo" onclick="showAllPosts()">NEURAL_DECAY</a>
      <nav>
        <ul>
          <li><a href="#" onclick="showAllPosts()">home</a></li>
          <li><a href="#" onclick="showPostsByTag('coding')">coding</a></li>
          <li><a href="#" onclick="showPostsByTag('medicine')">medicine</a></li>
          <li><a href="#" onclick="showPostsByTag('bioinformatics')">bio_info</a></li>
        </ul>
      </nav>
    </div>
  </header>
  <div class="container">
    <main>
      <div class="content-area">
        <div class="blog-posts">
          <h2>Recent_Transmissions</h2>
          <div id="posts-container"></div>
        </div>
      </div>
      <aside class="sidebar">
        <div class="widget">
          <div class="widget-header">
            <span class="widget-title"><i class="fas fa-book-open"></i> PAPER_OF_THE_DAY</span>
          </div>
          <div class="widget-content" id="paper-of-the-day"></div>
        </div>
        <div class="widget">
          <div class="widget-header">
            <span class="widget-title"><i class="fas fa-history"></i> RECENT_POSTS</span>
          </div>
          <div class="widget-content">
            <div id="recent-posts-widget" class="recent-posts"></div>
          </div>
        </div>
        <div class="widget">
          <div class="widget-header">
            <span class="widget-title"><i class="fas fa-tags"></i> TAGS</span>
          </div>
          <div class="widget-content">
            <div id="categories-widget" class="recent-posts"></div>
          </div>
        </div>
      </aside>
    </main>
  </div>
  <script src="posts.js"></script>
  <script>
    window.showPostsByTag = function(tag) {
      renderPostsByTag(tag);
      window.location.hash = "tag-" + tag;
    };
    window.showAllPosts = function() {
      renderPostsByTag();
      window.location.hash = "";
    };
    window.showFullPost = function(postId) {
      const post = allPosts.find(p => p.id === postId);
      if (post) {
        const container = document.getElementById('posts-container');
        container.innerHTML = `
          <div class="full-post">
            <button onclick="showAllPosts()" class="back-button">
              <i class="fas fa-arrow-left"></i> Back to Posts
            </button>
            <article class="post full-post-content">
              <div class="post-meta">
                <span class="post-category coding">${post.category}</span>
                <span class="post-date">${post.date}</span>
              </div>
              <h1>${post.title}</h1>
              <div class="post-content">${post.content.replace(/\n/g, '<br>')}</div>
              <div style="margin-top:15px;">
                ${post.tags ? post.tags.map(tag=>`<a href="javascript:void(0)" onclick="showPostsByTag('${tag}')">#${tag}</a>`).join(' ') : ''}
              </div>
              ${post.id === 'plasmyrage' ? `<a href="https://gravityeffect1.github.io/plasmyrage/" target="_blank" style="color:#00eeff">View Live Demo</a>` : ''}
            </article>
          </div>
        `;
        window.location.hash = "post-" + post.id;
      }
    };
    function renderPostsByTag(tag=null) {
      const container = document.getElementById('posts-container');
      container.innerHTML = '';
      let postsToShow = allPosts;
      if (tag) {
        postsToShow = allPosts.filter(post => post.tags.includes(tag));
        container.innerHTML += `<div style="margin-bottom:15px;"><b>Tag:</b> #${tag} (${postsToShow.length})</div>`;
      }
      if (postsToShow.length === 0) {
        container.innerHTML += `<div style="color:#888;font-style:italic;">No posts found.</div>`;
        return;
      }
      postsToShow.forEach(post => {
        const postElement = document.createElement('article');
        postElement.className = 'post';
        postElement.innerHTML = `
          <div class="post-meta"><span class="post-category coding">${post.category}</span> <span class="post-date">${post.date}</span></div>
          <h3><a href="javascript:void(0)" onclick="showFullPost('${post.id}')">${post.title}</a></h3>
          <p class="post-excerpt">${post.excerpt}</p>
          <a href="javascript:void(0)" class="read-more" onclick="showFullPost('${post.id}')">Read Transmission &gt;</a>
        `;
        container.appendChild(postElement);
      });
    }
    function renderRecentPostsWidget(posts) {
      const container = document.getElementById('recent-posts-widget');
      const recentPosts = posts.slice(0, 5);
      if (recentPosts.length > 0) {
        container.innerHTML = recentPosts.map(p =>
          `<a href="javascript:void(0)" onclick="showFullPost('${p.id}')">${p.title}</a>`
        ).join('');
      } else {
        container.innerHTML = '<div style="padding: 20px; text-align: center; color:#888;">// No posts found</div>';
      }
    }
    function renderTagsWidget(posts) {
      const container = document.getElementById('categories-widget');
      const allTags = posts.flatMap(p => p.tags || []);
      const uniqueTags = [...new Set(allTags)];
      if (uniqueTags.length > 0) {
        container.innerHTML = uniqueTags.map(tag =>
          `<a href="javascript:void(0)" onclick="showPostsByTag('${tag}')">#${tag}</a>`
        ).join(' ');
      } else {
        container.innerHTML = '<div style="padding: 20px; color:#888;">// No tags available</div>';
      }
    }
    document.addEventListener('DOMContentLoaded', function () {
      renderPostsByTag();
      renderRecentPostsWidget(allPosts);
      renderTagsWidget(allPosts);
      // Handle hash navigation on page load
      if (window.location.hash) {
        const hash = window.location.hash.substr(1);
        if (hash.startsWith('tag-')) {
          const tag = hash.replace('tag-', '');
          showPostsByTag(tag);
        } else if (hash.startsWith('post-')) {
          const postId = hash.replace('post-', '');
          showFullPost(postId);
        }
      }
    });
  </script>
  <script src="paper.js"></script>
</body>
</html>
